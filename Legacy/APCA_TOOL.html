<!DOCTYPE html>
<html lang="en-US">
<head>

<!--ALL PAGES ON THIS SITE ARE COPYRIGHT © 1997-2020 by ANDREW SOMERS, ALL RIGHTS RESERVED
THIS CONTENT IS LICENSED TO THE W3.org PER THEIR COOPERATIVE AGREEMENTS -->

<meta charset="utf-8">

	<title>APCA Basic Contrast Demo</title>
    
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	
	<link rel="canonical" href="https://www.myndex.com/APCA/" />

        <link rel="stylesheet" href="CSS/style.css">

	<link href='https://fonts.googleapis.com/css2?family=Barlow:wght@100;200;300;400;500;600;700;800;900&family=Fira+Sans:wght@100;200;300;400;500;600;700;800;900&family=Jost:wght@100;200;300;400;500;600;700;800;900&family=K2D:wght@100;200;300;400;500;600;700;800;900&family=Kanit:wght@100;200;300;400;500;600;700;800;900&family=Bitter:wght@100;200;300;400;500;600;700;800;900&family=Petrona:wght@100;200;300;400;500;600;700;800;900&family=Taviraj:wght@100;200;300;400;500;600;700;800;900&family=Trirong:wght@100;200;300;400;500;600;700;800;900&text=%20%26IcyATOMsizedgapxwtrLlNonhBFS0123456789&display=swap' rel='stylesheet'>
    
<style>
		/* This is the optional HTML Color Name listing at the end */
		#rgbcolor-examples li {
			padding: 0;
			font-size: 14px;
			font-weight: 300;
			color: #ABC;
			}
		#rgbcolor-examples li div span {
			font-size: 18px;
			font-weight: 400;
			color: inherit;
			}				
		#rgbcolor-examples li div {
			display: inline-block;
			width: 360px;
			height: 160px;
			padding: 10px 16px;
			margin: 2px auto;
			line-height: 0.85;
			font-size: 28px;
			font-weight: 700;				
			border: 8px solid #777;
			border-radius: 16px;
			}				

	/* Font Sample Classes */
	.sample25{
		height: 156px;
		padding: 32px 0 0 24px;
		font-size: 96px;
		font-weight: 900;
		color: inherit;
		}
	.sample40{height: 156px; padding: 24px 0 0 24px; color: inherit;}
	.sample50{height: 156px; padding: 32px 0 0 24px; color: inherit;}
	.sample60{height: 128px; padding: 24px 0 0 24px; color: inherit;}
	.sample70{height: 112px; padding: 20px 0 0 24px; color: inherit;}
	.sample80{height: 112px; padding: 20px 0 0 24px; color: inherit;}
	.sample100{height: 128px; padding: 24px 0 0 24px; color: inherit;}
	.sample120{height: 96px; padding: 16px 0 0 24px; color: inherit;}

	.pad0 {padding: 0 30px;}

	.sample40{font-size: 96px; font-weight: 600;}
	.L40{font-size: 72px; font-weight: 700;}
	.L40a{font-size: 60px; font-weight: 800;}
	.L40b{font-size: 48px; font-weight: 900;}
	
	.sample50{font-size: 96px; font-weight: 400;}
	.L50{font-size: 72px; font-weight: 500;}
	.L50a{font-size: 60px; font-weight: 600;}
	.L50b{font-size: 48px; font-weight: 700;}
	.L50c{font-size: 36px; font-weight: 800;}
	.L50d{font-size: 30px; font-weight: 900;}
	
	.sample60{font-size: 72px; font-weight: 300;}
	.L60 {font-size: 48px; font-weight: 400;}
	.L60aaa {font-size: 36px; font-weight: 500;}
	.L60aa{font-size: 30px; font-weight: 600;}
	.L60a{font-size: 24px; font-weight: 700;}
	.L60b{font-size: 18px; font-weight: 800;}
	.L60c{font-size: 18px; font-weight: 900;}
	
	.sample70{font-size: 60px; font-weight: 300;}
	.L70 {font-size: 36px; font-weight: 400;}
	.L70a{font-size: 30px; font-weight: 500;}
	.L70b{font-size: 24px; font-weight: 600;}
	.L70c{font-size: 18px; font-weight: 700;}
	.L70d{font-size: 16px; font-weight: 800;}
	.L70e{font-size: 16px; font-weight: 900;}
	
	.sample80{font-size: 60px; font-weight: 200;}
	.L80 {font-size: 36px; font-weight: 300;}
	.L80a{font-size: 24px; font-weight: 400;}
	.L80b{font-size: 18px; font-weight: 500;}
	.L80c{font-size: 16px; font-weight: 600;}
	.L80d{font-size: 14px; font-weight: 700;}
	.L80e{font-size: 14px; font-weight: 800;}
	.L80f{font-size: 14px; font-weight: 900;}

	.sample100{font-size: 72px; font-weight: 100;}
	.L100 {font-size: 36px; font-weight: 200;}
	.L100a{font-size: 24px; font-weight: 300;}
	.L100b{font-size: 18px; font-weight: 400;}
	.L100c{font-size: 16px; font-weight: 500;}
	.L100d{font-size: 14px; font-weight: 600;}
	
	.sample120{font-size: 48px; font-weight: 100;}
	.L120 {font-size: 24px; font-weight: 200;}
	.L120a{font-size: 18px; font-weight: 300;}
	.L120b{font-size: 14px; font-weight: 400;}

</style>
	<!-- This Page needs beta version 0.97h or greater of the following file -->
	<script src="JS/APCAsRGB.js"></script>

<script>

//////////// PAGE CODE BETA 0.97h ////////////////////////////

//////////////////////////////////////////////////////////////
//////////// PAGE MAIN FUNCTIONS /////////////////////////////
//////////////////////////////////////////////////////////////


function getCSScolor(sRGB, type) {  
		// Call to primary pre-process
		// Returns RGBColor OBJECT if good.
		
	var thisColor = new RGBColor(sRGB);
	
// DOC:  RGBColor(color_string,sRGBtrc = 2.218,Rco = 0.2126,Gco = 0.7156,Bco = 0.0722)

	if (thisColor.ok) {
	
			// Creates an HTML string that contains a lot of 
			// information about the color.
		var colorReport = '<code><b><span class="ls0">'
				  + thisColor.toHex3() + ' • ' + thisColor.toRGB()
				  + '</b><br><span class="dib ls3 fs95 lh10">'
				  + '<b>Luminance</b> (XYZ): ' + thisColor.toY100str(6)
				  + ' <b>Y<br>Lightness</b> (LAB): ' + thisColor.toLstarStr(1,6)
				  + ' <b>L*</b><br><span class="dib ls1 fs92 lh10"><b>Dec:</b> '
				  + thisColor.toRGB3(3)
				  + '<span class=" fs94 "><br><b>Lin N: R</b> '
				  + thisColor.Rlin().toPrecision(5).substr(0,9)
				  + '&nbsp;<b>G</b> ' + thisColor.Glin().toPrecision(5).substr(0,9)
				  + '&nbsp;<b>B</b> ' + thisColor.Blin().toPrecision(4).substr(0,8)
				  + '<br><b>Lin Y: Y<sub>R</sub></b>' + thisColor.RlinCo().toPrecision(5).substr(0,9)
				  + '&nbsp;<b>Y<sub>G</sub></b>'
				  + thisColor.GlinCo().toPrecision(5).substr(0,9)
				  + '&nbsp;<b>Y<sub>B</sub></b>'
				  + thisColor.BlinCo().toPrecision(4).substr(0,8)
				  + '</b></span></span></code>' ;

		switch (type) {
			case 'BG':

			//  Clear Error warning colors
				document.getElementById('inputBG').style.backgroundColor = '#DFA';
				document.getElementById('BGresult-wrap').style.backgroundColor = '#808080';

			// Set the input element and result element values to match	
				document.getElementById('inputBG').value = thisColor.cleaned;
				document.getElementById('BGresult').value = thisColor.toHex2();
				
			// Set the CSS BG colors
				document.getElementById('BGresult').style.backgroundColor = 
				document.getElementById('ampSamp').style.backgroundColor = 			
				document.getElementById('sansSamples').style.backgroundColor = 
				document.getElementById('serifSamples').style.backgroundColor = thisColor.toHex2();
				
			// Report results to the results window to show info about the color
				document.getElementById('BGresult-text').innerHTML = colorReport;
				
			break;

			case 'txt':
			
			//  Clear Error warning colors
				document.getElementById('inputText').style.backgroundColor = '#DFA';
				document.getElementById('textResult-wrap').style.backgroundColor = '#808080';

			// Set the input element and result element values to match				
				document.getElementById('inputText').value = thisColor.cleaned;
				document.getElementById('textResult').value = thisColor.toHex2();
				
			// Set the CSS text colors  	//Background for result: it is the patch
				document.getElementById('textResult').style.backgroundColor = 				
				document.getElementById('textResult').style.Color = 			
				document.getElementById('ampSamp').style.color = 
				document.getElementById('sansSamples').style.color = 
				document.getElementById('buttonSpecial').style.borderColor = 
				document.getElementById('serifSamples').style.color = thisColor.toHex2();
				
			// Report results to the results window to show info about the color
				document.getElementById('textResult-text').innerHTML = colorReport;
			
			break;

			case 'page':
		// Reserved for future use	
			break;
			}
			
			return thisColor;

	} else {  // else when the color is an invalid entry.
		switch (type) { // Set error warning colors
			case 'BG':		
				document.getElementById('inputBG').style.backgroundColor = '#F9A';
				document.getElementById('BGresult-wrap').style.backgroundColor = '#D00';
			break;
			
			case 'txt':		
				document.getElementById('inputText').style.backgroundColor = '#F9A';
				document.getElementById('textResult-wrap').style.backgroundColor = '#D00';
			break;	
			
			return 0;
			}	
		}
	}
	


//////////////////////////////////////////////////////////////
/////////  PAGE UTILITY FUNCTIONS  ///////////////////////////
//////////////////////////////////////////////////////////////
	
	
	function showHelp() {  // For the HTML Color Names Display
		var color = new RGBColor('');
		document.getElementById('help').innerHTML = '';
		document.getElementById('help').appendChild(color.getHelpXML());
		}

	function swapColors() {
		var BGtemp = document.getElementById('inputBG').value;
	
		document.getElementById("inputBG").value = document.getElementById('inputText').value;
		document.getElementById("inputText").value = BGtemp;
	
		getCSScolor(document.getElementById('inputBG').value,'BG');
		getCSScolor(document.getElementById('inputText').value, 'txt');
		
		testContrast();
		}
	
	function getColorURL() {

		var urlParams = new URLSearchParams(window.location.search);

		if (urlParams.has('BG') && urlParams.has('txt')) {
			document.getElementById("inputBG").value = urlParams.get('BG');
			document.getElementById("inputText").value = urlParams.get('txt');
			document.getElementById("URLresult").value = document.URL; 
			document.getElementById("URLresult").select();
		} else {
			document.getElementById("inputBG").value = 'f8ff95';
		// Default BG Color 80F
			document.getElementById("inputText").value = '56077b';		
		// Default BG Color DEF
		}	
		
		getCSScolor(document.getElementById('inputBG').value,'BG');
		getCSScolor(document.getElementById('inputText').value, 'txt');

		//console.log('1 ' + window.location.pathname); // Returns path only
		//console.log('2 ' + window.location.href);
		//console.log('3 ' + document.URL);
		
		testContrast();
		}

	function createColorURL() {

		// var filename = url.substring(url.lastIndexOf('/')+1);
				// alert(filename);
				
		var newURL = document.getElementById("colorURL").href =
			"https://www.myndex.com" + window.location.pathname
			+ "?BG="
			+ getCSScolor(document.getElementById('inputBG').value,'BG').toHex()
			+ "&txt="
			+ getCSScolor(document.getElementById('inputText').value,'txt').toHex();
		
		navigator.clipboard.writeText(newURL);
		}
		
		// Entry Key Cleanup for better UX with auto-enter
	function entryKeys(colorString,type,e) {
		if (
			(
				(e.which >= 48 && e.which <= 57 && event.shiftKey == false) ||
				(e.which >= 65 && e.which <= 90) ||
				(e.which >= 96 && e.which <= 105)
			) ||
			e.which === 13 ||
			e.which === 8  ||
			e.which === 17 ||
			e.which === 46 ||
			(e.which >= 91 && e.which <= 93) ||
			(e.which === 48 && event.shiftKey == true)			
		) {
			getCSScolor(colorString,type);
			testContrast();		
		}
	}
				
</script>
</head>


<!--	********	********   Begin Body	********	********	-->
<!--	********	********   Begin Body	********	********	-->
<!--	********	********   Begin Body	********	********	-->



<!--	********	********   Begin Body	********	********	-->
<!--	********	********   Begin Body	********	********	-->
<!--	********	********   Begin Body	********	********	-->



<!--	********	********   Begin Body	********	********	-->
<!--	********	********   Begin Body	********	********	-->
<!--	********	********   Begin Body	********	********	-->


<body onLoad="getColorURL(); ">

<main class="wrapper">

	<h1 class="mastHead"  style="">APCA&nbsp;VISUAL CONTRAST&nbsp;DEMO</h1>

	<div id="inputAreaCanvas" class="objectModel">        
		<form id="colorForm" name="colorForm">
		<div class="inputLeft" style="">
			<h3 class="fs11"><span class="fw7 fs12">BACKGROUND</span><span class="queryHide"> COLOR</span></h3>
			
				<div class="textInput">
					<input
						id="inputBG"
						type="text"
						value=""
						onclick="this.select();"
						onkeyup="entryKeys(this.value,'BG',event);"
						onblur="getCSScolor(this.value,'BG'); testContrast();">
				</div>
		
			<div id="BGresult-wrap">
				<input type="color" id="BGresult"
				onchange="getCSScolor(this.value,'BG'); document.getElementById('inputBG').value = this.value; testContrast();"></input>
			</div>
			<input id="BGY" name="BGY" type="hidden" value=0>
			<div class="codeBlock" id="BGresult-text"></div>
		
		</div>
                
		<div class="inputRight" style="">
			<h3 class="fs11"><span class="fw7 fs12">TEXT</span> COLOR</h3>
				<div class="textInput">
					<input
						id="inputText"
						type="text"
						value=""
						onclick="this.select();"
						onkeyup="entryKeys(this.value,'txt',event);"
						onblur="getCSScolor(this.value,'txt'); testContrast();">
				</div>
			
			
			<div id="textResult-wrap">
				<input type="color" id="textResult"
				onchange="getCSScolor(this.value,'txt'); document.getElementById('inputText').value = this.value; testContrast();"></input>
			</div>	
			<input id="textY" name="textY" type="hidden" value=0>
			<div class="codeBlock" id="textResult-text"></div>
		</div>
		</form>
		
		
		<div class="" onclick="swapColors()" id="ampSamp"><div class="montFont" >EXAMPLE</div>&<div class="helvetiFont">Click To Swap</div>
		</div>

		<div id="contrast" class="">        
			<div id="contrastLabel">SAPC/APCA<br>CONTRAST</div>
			<div class="contrastResult" style="">L<sup>c</sup> <span id="contrastResult" style="">"cookie"</span></div>
		</div>
		<div class="queryClear"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div>
			
	</div> <!--	********	Close Input Area	********	-->

	
	<div id="demoArea"> 
	        <h1 style="text-align: center;">SAPC/APCA Visual&nbsp;Contrast — Beta&nbsp;0.97h</h1>
        <a id="colorURL" class="myndexButton flr tac" style="width: 35%; margin: 1em; padding: 0.3em 1em;" onclick="createColorURL()" >Generate a URL of This Color Pair</a>
        
        <input class="flr clr" type="text" id="URLresult" value="" onclick="this.select();">
        
        <div class="textBox" style="">
			<p>Click on a color patch above to use the HTML5 color-picker (modern browsers). Otherwise enter color values in the text-box as a three or six digit hex value, the '#' is not necessary. Other valid entries are integer rgb(r,g,b) or an HTML color name (see bottom of page for list).</p>
			
		</div>	
		<p class="p10">This is the APCA version. For the SAPC research project, see <a href="/SAPC/">SAPC link</a>. For comments or to report issues, please visit us on <a href="https://github.com/Myndex/SAPC-APCA">GitHub.</a>
	
    </div>  <!--	********	Close Demo Area	********	-->         	


<section class="explainer">

	<h1 class="h1Query" style="">Accessible Contrast </h1>
	<h2 class="h2Query">Relative to Font Size and Weight</h2>	

	<ul>
		<li>Cross index reference font size (in CSS px) to CSS weight. 
		<li>Reference fonts for comparison include Helvetica Neue, Helvetica, K2D, Fira Sans, Kanit, and Arial.
		<li>APCA Contrast Percentage must meet or exceed the value listed. 
		<li>For light text on a dark background the APCA tool will show a negative percentage. Simply use the absolute (positive) value. For example, if the APCA value is -58<span class="Lc"><sup>L<sup>c</sup></sup></span>, use 58<span class="Lc"><sup>L<sup>c</sup></sup></span>. 	
		<li>A<span class="underWeightSpan"> &osol; </span>indicates that a larger font size (or heavier font weight) must be used. 
	</ul>

<div  style="overflow: scroll;">
<table class="TFtable visReadTable APCAtable">
		<tr>
			<th colspan="11" class="tableTitle" style="height: 2em; font-size: 1.5em;">APCA CONTRAST LOOKUP TABLE</th>
		</tr>
		<tr>
			<th colspan="2" class="tableTitle" style="font-size: 1em;"></th>
			<th colspan="9" class="tableTitle" style="font-size: 1.2em; letter-spacing: 0.15em;">Reference Font Weight</th>
		</tr>
		<tr>
			<th colspan="2" class="tableTitle" style="font-size: 1em;">Font Size</th>
			<th class="weight weight1">100</th>
			<th class="weight weight2">200</th>
			<th class="weight weight3">300</th>
			<th class="weight weight4">400<div class="">Normal</div></th>
			<th class="weight weight5">500</th>
			<th class="weight weight6">600</th>
			<th class="weight weight7">700<div class="">Bold</div></th>
			<th class="weight weight8">800</th>
			<th class="weight weight9">900</th>
		</tr>
		<tr style="">
			<th class="tableTitle" style="color: #8af2ff; background-color: #068; font-size: 1.1em;">pt</th>
			<th class="tableTitle" style="color: #FFF; background-color: #996; font-size: 1.1em;">px</th>			
			<th colspan="9" class="tableTitle" style="font-size: 1.1em; letter-spacing: 0.15em; color: #FFF; background-color: #629;">APCA Contrast Value (L<sup>c</sup>)</th>
		</tr> 
		<tr>
			<td>7.5</td>
			<td>10</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
		</tr>
		<tr>
			<td>8.3</td>
			<td>11</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="copyOnly">©§™</td>
			<td class="copyOnly">©§™</td>
			<td class="copyOnly">©§™</td>
			<td class="copyOnly">©§™</td>
			<td class="underWeight">⊘</td>
		</tr>
		<tr>
			<td>9</td>
			<td>12</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="bgOrLt">130</td>
			<td class="bgOrLt">120</td>
			<td class="bgOrLt">100</td>
			<td class="bgOrLt">100</td>
			<td class="underWeight">⊘</td>
		</tr>
		<tr>
			<td>10.5</td>
			<td>14</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="keyVal130">130</td>
			<td class="keyVal120">120</td>
			<td class="keyVal100">100</td>
			<td class="keyVal80">80</td>
			<td class="bgOrLt">80</td>
			<td class="underWeight">⊘</td>
		</tr>
		<tr>
			<td>12</td>
			<td>16</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="keyVal130">130</td>
			<td class="keyVal120">120</td>
			<td class="keyVal100">100</td>
			<td class="keyVal80">80</td>
			<td class="">75</td>
			<td class="keyVal70">70</td>
			<td class="bgOrLt">70</td>
		</tr>
		<tr>
			<td>13.5</td>
			<td>18</td>
			<td class="underWeight">⊘</td>
			<td class="underWeight">⊘</td>
			<td class="keyVal120">120</td>
			<td class="keyVal100">100</td>
			<td class="keyVal80">80</td>
			<td class="">75</td>
			<td class="keyVal70">70</td>
			<td class="keyVal60">60</td>
			<td class="keyVal60">60</td>
		</tr>
		<tr>
			<td>18</td>
			<td>24</td>
			<td class="underWeight">⊘</td>
			<td class="keyVal120">120</td>
			<td class="keyVal100">100</td>
			<td class="keyVal80">80</td>
			<td class="">75</td>
			<td class="keyVal70">70</td>
			<td class="keyVal60">60</td>
			<td class="">58</td>
			<td class="">55</td>
		</tr>
		<tr>
			<td>22.5</td>
			<td>30</td>
			<td class="underWeight">⊘</td>
			<td class="">110</td>
			<td class="">90</td>
			<td class="">75</td>
			<td class="keyVal70">70</td>
			<td class="keyVal60">60</td>
			<td class="">58</td>
			<td class="">55</td>
			<td class="keyVal50">50</td>
		</tr>
		<tr>
			<td>27</td>
			<td>36</td>
			<td class="underWeight">⊘</td>
			<td class="keyVal100">100</td>
			<td class="keyVal80">80</td>
			<td class="keyVal70">70</td>
			<td class="keyVal60">60</td>
			<td class="">58</td>
			<td class="">55</td>
			<td class="keyVal50">50</td>
			<td class="">45</td>
		</tr>
		<tr>
			<td>36</td>
			<td>48</td>
			<td class="keyVal120 weight100">120</td>
			<td class="">90</td>
			<td class="">75</td>
			<td class="keyVal60">60</td>
			<td class="">58</td>
			<td class="">55</td>
			<td class="keyVal50">50</td>
			<td class="">45</td>
			<td class="keyVal40">40</td>
		</tr>
		<tr>
			<td>45</td>
			<td>60</td>
			<td class="weight100">110</td>
			<td class="keyVal80">80</td>
			<td class="keyVal70">70</td>
			<td class="">58</td>
			<td class="">55</td>
			<td class="keyVal50">50</td>
			<td class="">45</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
		</tr>
		<tr>
			<td>54</td>
			<td>72</td>
			<td class="keyVal100 weight100">100</td>
			<td class="">75</td>
			<td class="keyVal60">60</td>
			<td class="">55</td>
			<td class="keyVal50">50</td>
			<td class="">45</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
		</tr>
		<tr>
			<td>72</td>
			<td>96</td>
			<td class="weight100">90</td>
			<td class="keyVal70">70</td>
			<td class="">55</td>
			<td class="keyVal50">50</td>
			<td class="">45</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
		</tr>
		<tr>
			<td>90</td>
			<td>120</td>
			<td class="keyVal80">80</td>
			<td class="keyVal60">60</td>
			<td class="keyVal50">50</td>
			<td class="">45</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
		</tr>
		<tr>
			<td>108</td>
			<td>144</td>
			<td class="">75</td>
			<td class="">55</td>
			<td class="">45</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
		</tr>
		<tr>
			<td>144</td>
			<td>192</td>
			<td class="keyVal70">70</td>
			<td class="keyVal50">50</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
			<td class="keyVal40">40</td>
		</tr>
</table>
<hr>
		<table class="centeredTable" style="" >
				<tr style="color: #FFF; background-color: #309;border: 1px solid #94B;">
					<th colspan="1" class="tableTitle" style="text-align: center; height: 2em; font-size: 1.5em;border: 1px solid #94B;">APCA CONTRAST COLOR CODES</th>
				</tr>
				<tr>
					<td class="colorCodes code01">PROHIBITED Except for Decorative Purposes</td>
		</tr>
				<tr>
					<td class="colorCodes code02">May be used for Copyright/ByLine ONLY</td>
		</tr>
				<tr>
					<td class="colorCodes code03">Do Not Use for Body Text (Blocks or Columns)</td>
				</tr>
				<tr>
					<td class="colorCodes code04">Weight 100 Fonts should be avoided</td>
				</tr>		
				<tr>
					<td class="colorCodes code05">APCA 100 — Similar to WCAG 7∶1 <span>for BG #eee and lighter</span></td>
				</tr>
				<tr>
					<td class="colorCodes code06">APCA 80 — Similar to WCAG 4.5∶1 <span>for BG #eee and lighter</span></td>
				</tr>				
				<tr>
					<td class="colorCodes code07">APCA 60 — Similar to WCAG 3∶1 <span>for BG #ddd and lighter</span></td>
				</tr>
				<tr>
					<td class="colorCodes code08">Minimum Contrast for Very Large Text</td>
				</tr>		
		</table>


</div>

	<ul>
		<li>Values shown are for common sans-serif fonts (e.g., Helvetica, Arial, Verdana, Calibri, Trebuchet).
		<li>Many serif fonts should use values for the row above (e.g., Times, Georgia, Cambria, Courier).
		<li>Decorative, unusual, and very thin fonts should be avoided for columns of body text. 	
		<li>Due to the vast variety of font designs, designers should visually compare an unusual font to a standard font such as Helvetica, using the size and weight of Helvetica that most closesly matches the appearance of the tested font as a guide.
		<li>Designers are cautioned that bypassing default font smoothing can drastically reduce contrast for small or thin fonts. For instance, the use of "webkit-font-smoothing: antialiasing" is strongly discouraged.	
	</ul>

</section> <!--	********	Close Guidlines Section		********	-->

<hr class="clb" style="">

<section  class="explainer"> 
	<h1 style="color: #206;">The Science Behind SAPC/APCA</h1>
	<h3 class="h3Query" style="text-align: center;"><b>A</b>dvanced <b>P</b>erceptual <b>C</b>ontrast <b>A</b>lgorithm</h3>

	<div>
		<p class="dropCapSimple">For a brief overview and explanation of the SAPC math and methods, take a look at <a id="" href="/WEB/WCAG_CE17polarity">Experiment Results CE17</a>, one of the polarity experiments. The discussion includes graphs comparing SAPC to other contrast methods, and related discussions.</p>
		<p>Also, as spatial frequency is one of the most important predictors of contrast perception and readability, see <a id="" href="/WEB/WCAG_CE14weight">Experiment Results CE14-weight</a> for further explanations.</p>
		<p><span class="fw6">The "TL;DR" is:</span > like all human perceptions, color and contrast are extremely context dependent. In terms of readability, there is a "critical contrast" level, and that level is more dependent on spatial frequency, which relates to font weight, than a given color pair. </p>
		<p>To accurately predict contrast perception, the Spatial <em>(font weight & size)</em>, color <em>(perceived lightness difference between text and background)</em>, and context <em>(ambient light, surroundings, intended purpose of the text)</em> all need to be taken into account.</p>
	<h3 class="h3Query" style="text-align: center;">What is the Contrast of This Page?</h3>
		<p>Most of this page is set at over 120<span class="Lc"><sup>L<sup>c</sup></sup></span>. Large headlines are about 122<span class="Lc"><sup>L<sup>c</sup></sup></span>, and the text you are reading now is set at 132<span class="Lc"><sup>L<sup>c</sup></sup></span>. The less important text-block in the footer is about -98<span class="Lc"><sup>L<sup>c</sup></sup></span>. To help differentiate between dark text on a light background and light text on dark, the math reports the latter as a negative value. But for purposes of the font lookup table, ignore the minus sign and use the absolute value.</p>
		
		
		<a id="" href="/WEB/Perception">
		<button class="myndexButton queryButton fll" style="">
		<div class="fll" style="padding: 0.4em 4px; font-family: 'Palatino', 'Georgia','Bookman', 'Times New Roman','Times','serif'; letter-spacing: 0.01em; line-height: 0.2; font-size: 2em; font-style: normal;">&Delta;&gamma; &nbsp;
		</div>
		Myndex Perception Research Experimental Results Listing
		</button></a>
	
		<a id="" href="/CVD/">
		<button class="myndexButton queryButton flr" style="padding: 0.3em;">
		<img class="fll " style="margin: 0.3em; padding: 0" src="/CVD/faviconMasterSmall.jpg"  height="40">
		<div class="flr" style="margin: 0.3em; padding:0;" >Myndex&nbsp;Color&nbsp;Vision <br>Deficiency&nbsp;Simulator</div></button></a> 
	
	<div class="clearfix"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div>
	
	</div>
</section> <!--	********	Close Science Links Section		********	-->

<hr class="clb " style="">


<section> 
	<div class="explainer">
	<h1 class="h1Query" >Minimum Type Size</h1><h2 class="h2Query">Examples for Various Levels</h2>

		<p class="dropCapSimple">Here are a set of type samples using the above selected colors. The first is the standard sans-serif Helvetica Neue, a very common font that was used as the reference font for many of the perception experiments. The initial serif font sample shown is Trirong. The samples here (other than Helvetica) can be found on Google fonts.

		<p>On the left of each sample line is the level, as in APCA contrast <span class="Lc"><sup>L<sup>c</sup></sup></span>80 (positive or negative). This (and the above chart) are based on the standard font "Helvetica" but as should be clear when choosing other fonts, the variation in weight is enough to change perceived contrast. You can scroll the samples left to see smaller text.
		
		<p>At the end of each sample section you can select alternate test fonts. You'll notice there are substantial differences in font weight, especially noticeable in the very light and thin fonts. Designers and developers should be aware of these differences, as adjust to compensate for differences relative to a reference standard font.

		<p>It is further advised to test fonts on various major browsers, as each browser renders fonts differently, especially thin fonts and fonts with poor hinting. For instance, the sample font "JOST" renders differently in Safari, Chrome, Opera, and Firefox. On MacOS, while Safari and Firefox maintain some legibility in the very thin 100 weight Jost, the thin versions of Jost  literally disappear in Chrome and Opera.
	</div>
	
		<div class="levelsLegendTitle">Conformance Rating Color Codes<br>
		<div class="levelsLegend"><span class="score5">Preferred 5</span><span class="score4">Score 4</span><span class="score3">Score 3</span><span class="score2">Score 2</span><span class="score1">Score 1</span><span class="score0">Score 0</span></div>
		</div>
	
	<div class="examples">
		<h1 class="h1Query">SANS SERIF FONT SAMPLES</h1>
		
		<div id="sansSamples">
		
			<div class="sample25">L<sup>c</sup>25 & 96px9 NonText
			
			<span style="fontFamily: 'HelveticaNeueLT', 'sans-serif';">&#x260E;&#x2605;&#x265C;&diams;&#x21EA;</span>
			
			<button id="buttonSpecial" onclick="swapColors()" style="" value="Do Not Press">do not press</button></span></div>
				<div class="spacer"><span class="currentContrast" id="sansL40"></span><span class="rightRowLabel" id="Lc40">L</span><span class="currentContrast2" id="sans2L40"></span><span class="rightRowLabel2"> L<sup>c</sup> 40 </span>
			</div>
				
			<div class="sample40">L<sup>c</sup>40 & 96px600 I<!-- ZeroWidthSpaceHack 
			--><span class="L40">I 72px 700 Ax I</span><!-- ZeroWidthSpaceHack 
			--><span class="L40a">I 60px800 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L40b">I 48px 900wt ATOMgap</span></div>
				<div class="spacer"><span class="currentContrast" id="sansL50"></span><span class="rightRowLabel" id="Lc50">L</span><span class="currentContrast2" id="sans2L50"></span><span class="rightRowLabel2"> L<sup>c</sup> 50 </span></div>
				
			<div class="sample50">L<sup>c</sup>50 & 96px 400 I<!--
			--><span class="L50">I 72px 500 Ax I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50a">I 60px600 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50b">I 48px 700wt ATOMgap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50c">I 36px 800wt ATOMgap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50d">I 30px 900wt ATOMgap</span></div>
				<div class="spacer"><span class="currentContrast" id="sansL60"></span><span class="rightRowLabel" id="Lc60">L</span><span class="currentContrast2" id="sans2L60"></span><span class="rightRowLabel2"> L<sup>c</sup> 60 </span></div>
				
			<div class="sample60">L<sup>c</sup>60 & 72px 300wt Ax I<!-- ZeroWidthSpaceHack 
			--><span class="L60">I 48px 400wt ATOMsz I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60aaa">I 36px 500wt ATOM I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60aa">I 30px 600wt IcyATOMsizedgap Axed I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60a">I 24px 700wt IcyATOMsizedgap Ax I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60b">I 18px 800wt IcyATOMsized I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60c">I 18px 900wt IcyATOMsizedgap</span></div>
				<div class="spacer"><span class="currentContrast" id="sansL70"></span><span class="rightRowLabel" id="Lc70">L</span><span class="currentContrast2" id="sans2L70"></span><span class="rightRowLabel2"> L<sup>c</sup> 70 </span></div>
				
			<div class="sample70">L<sup>c</sup>70 & 60px 300wt ATOMs I<!-- ZeroWidthSpaceHack 
			--><span class="L70">I 36px 400wt ATOMsized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70a">I 30px 500wt ATOMsize I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70b">I 24px 600wt IcyATOMsizedgap ATOMgap 12345 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70c">I 18px 700wt IcyATOMsizedgap ATOMgap 12345 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70d">I 16px 800wt IcyATOMsizedgap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70e">I 16px 900wt IcyATOMsizedgap</span></div>
				<div class="spacer"><span class="currentContrast" id="sansL80"></span><span class="rightRowLabel" id="Lc80">L</span><span class="currentContrast2" id="sans2L80"></span><span class="rightRowLabel2"> L<sup>c</sup> 80 </span></div>
				
			<div class="sample80">L<sup>c</sup>80 & 60px 200wt ATOMs I<!-- ZeroWidthSpaceHack 
			--><span class="L80">I 36px 300wt ATOMsizedgaps I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80a">I 24px 400wt ATOMsized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80b">I 18px 500wt IcyATOMsizedgap The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80c">I 16px 600wt ATOM The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80d">I 14px 700wt ATOMsized I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80e">I 14px 800wt ATOMsized I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80f">I 14px 900wt ATOMsized</span></div>
				<div class="spacer"><span class="currentContrast" id="sansL100"></span><span class="rightRowLabel" id="Lc100">L</span><span class="currentContrast2" id="sans2L100"></span><span class="rightRowLabel2"> L<sup>c</sup> 100 </span></div>
			
			<div class="sample100">L<sup>c</sup>100 & 72px 100wt Ax I<!-- ZeroWidthSpaceHack 
			--><span class="L100">I 36px 200wt ATOM sized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100a">I 24px 300wt ATOMsized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100b">I 18px 400wt IcyATOMsizedgap The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100c">I 16px 500wt ATOM The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100d">I 14px 600wt IcyATOMsizedgap</span></div>
				<div class="spacer"><span class="currentContrast" id="sansL120"></span><span class="rightRowLabel" id="Lc120">L</span><span class="currentContrast2" id="sans2L120"></span><span class="rightRowLabel2"> L<sup>c</sup> 120 </span></div>
				
			<div class="sample120">L<sup>c</sup>120 & 48px 100wt ATOMsizedga I<!-- ZeroWidthSpaceHack 
			--><span class="L120">I 24px 200wt Icy ATOM sized gap 1234567890 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L120a">I 18px 300wt Icy ATOM sized gap 1234567890 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L120b">I 14px 400wt Icy ATOM sized gap 1234567890 The Lazy Brown Fox Slept Instead </span></div>
		</div>
		<div class="alc mt00">
			<h2 class="h2Query">Sans Serif Font Selectors § <span id="sansLabel" class="fs09 fw5">Current: HelveticaNeueLT</span></h2>
		
			<button class="myndexButton buttonRow" onclick="document.getElementById('sansSamples').style.fontFamily = 'Barlow','sans-serif'; document.getElementById('sansLabel').innerHTML = 'Current: Barlow';">Barlow</button>

			<button class="myndexButton buttonRow" onclick="document.getElementById('sansSamples').style.fontFamily = 'Fira Sans','sans-serif'; document.getElementById('sansLabel').innerHTML = 'Current: Fira Sans';">Fira Sans</button>
		
			<button class="myndexButton buttonRow" onclick="document.getElementById('sansSamples').style.fontFamily = 'Jost','sans-serif'; document.getElementById('sansLabel').innerHTML = 'Current: Jost';">Jost</button>

			<button class="myndexButton buttonRow " onclick="document.getElementById('sansSamples').style.fontFamily = 'K2D','sans-serif'; document.getElementById('sansLabel').innerHTML = 'Current: K2D';">K2D</button>

			<button class="myndexButton buttonRow " onclick="document.getElementById('sansSamples').style.fontFamily = 'Kanit','sans-serif'; document.getElementById('sansLabel').innerHTML = 'Current: Kanit';">Kanit</button>		
		
			<button class="myndexButton buttonRow" onclick="document.getElementById('sansSamples').style.fontFamily = 'Montserrat','sans-serif'; document.getElementById('sansLabel').innerHTML = 'Current: Montserrat';">Montserrat</button>	
		
			<button class="myndexButton buttonRow" onclick="document.getElementById('sansSamples').style.fontFamily = 'HelveticaNeueLT', 'Helvetica', 'Arial', 'sans-serif'; document.getElementById('sansLabel').innerHTML = 'Current: HelveticaNeueLT';">HelveticaNeueLT (Reference)</button>			
	<p>Notes: K2D does not have a 900wt, and the Helvetica 600wt is condensed.</p>

		</div>	
		

<hr class="clb" style="">

		<h1 class="h1Query">SERIF FONT SAMPLES</h1>
		
		<div id="serifSamples">
			<div class="sample40">L<sup>c</sup>40 & 96px600 I<!-- ZeroWidthSpaceHack 
			--><span class="L40">I 72px 700 Ax I</span><!-- ZeroWidthSpaceHack 
			--><span class="L40a">I 60px800 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L40b">I 48px 900wt ATOMgap</span></div>
				<div class="spacer"><span class="currentContrast" id="serifL50"></span><span class="rightRowLabel2" id="sfLc50"> L<sup>c</sup> 50 </span><span class="currentContrast2" id="serif2L50"></span></div>
				
			<div class="sample50">L<sup>c</sup>50 & 96px 400 I<!--
			--><span class="L50">I 72px 500 Ax I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50a">I 60px600 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50b">I 48px 700wt ATOMgap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50c">I 36px 800wt ATOMgap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L50d">I 30px 900wt ATOMgap</span></div>
				<div class="spacer"><span class="currentContrast" id="serifL60"></span><span class="rightRowLabel2" id="sfLc60"> L<sup>c</sup> 60 </span><span class="currentContrast2" id="serif2L60"></span></div>
				
			<div class="sample60">L<sup>c</sup>60 & 72px 300wt Ax I<!-- ZeroWidthSpaceHack 
			--><span class="L60">I 48px 400wt ATOMsz I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60aaa">I 36px 500wt ATOM I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60aa">I 30px 600wt IcyATOMsizedgap Axed I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60a">I 24px 700wt IcyATOMsizedgap Ax I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60b">I 18px 800wt IcyATOMsized I</span><!-- ZeroWidthSpaceHack 
			--><span class="L60c">I 18px 900wt IcyATOMsizedgap</span></div>
				<div class="spacer"><span class="currentContrast" id="serifL70"></span><span class="rightRowLabel2" id="sfLc70"> L<sup>c</sup> 70 </span><span class="currentContrast2" id="serif2L70"></span></div>
				
			<div class="sample70">L<sup>c</sup>70 & 60px 300wt ATOMs I<!-- ZeroWidthSpaceHack 
			--><span class="L70">I 36px 400wt ATOMsized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70a">I 30px 500wt ATOMsize I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70b">I 24px 600wt IcyATOMsizedgap ATOMgap 12345 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70c">I 18px 700wt IcyATOMsizedgap ATOMgap 12345 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70d">I 16px 800wt IcyATOMsizedgap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L70e">I 16px 900wt IcyATOMsizedgap</span></div>
				<div class="spacer"><span class="currentContrast" id="serifL80"></span><span class="rightRowLabel2" id="sfLc80"> L<sup>c</sup> 80 </span><span class="currentContrast2" id="serif2L80"></span></div>
				
			<div class="sample80">L<sup>c</sup>80 & 60px 200wt ATOMs I<!-- ZeroWidthSpaceHack 
			--><span class="L80">I 36px 300wt ATOMsizedgaps I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80a">I 24px 400wt ATOMsized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80b">I 18px 500wt IcyATOMsizedgap The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80c">I 16px 600wt ATOM The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80d">I 14px 700wt ATOMsized I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80e">I 14px 800wt ATOMsized I</span><!-- ZeroWidthSpaceHack 
			--><span class="L80f">I 14px 900wt ATOMsized</span></div>
				<div class="spacer"><span class="currentContrast" id="serifL100"></span><span class="rightRowLabel2" id="sfLc100"> L<sup>c</sup> 100 </span><span class="currentContrast2" id="serif2L100"></span></div>
				
			<div class="sample100">L<sup>c</sup>100 & 72px 100wt Ax I<!-- ZeroWidthSpaceHack 
			--><span class="L100">I 36px 200wt ATOM sized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100a">I 24px 300wt ATOMsized gap I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100b">I 18px 400wt IcyATOMsizedgap The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100c">I 16px 500wt ATOM The Lazy Brown Fox Slept Instead I</span><!-- ZeroWidthSpaceHack 
			--><span class="L100d">I 14px 600wt IcyATOMsizedgap</span></div>
			
			<div class="spacer"><span class="currentContrast" id="serifL120"></span><span class="rightRowLabel2"> L<sup>c</sup> 120 </span><span class="currentContrast2" id="serif2L120"></span></div>
				
			<div class="sample120">L<sup>c</sup>120 & 48px 100wt ATOMsizedga I<!-- ZeroWidthSpaceHack 
			--><span class="L120">I 24px 200wt Icy ATOM sized gap 1234567890 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L120a">I 18px 300wt Icy ATOM sized gap 1234567890 I</span><!-- ZeroWidthSpaceHack 
			--><span class="L120b">I 14px 400wt Icy ATOM sized gap 1234567890 The Lazy Brown Fox Slept Instead </span></div>
			
		</div>
	
		<div class="alc">
			<h2 class="h2Query">Serif Font Selectors § <span id="serifLabel" class="fs09 fw5">Current: Trirong</span></h2>
		
			<button class="myndexButton buttonRow" onclick="document.getElementById('serifSamples').style.fontFamily = 'Bitter','sans-serif';document.getElementById('serifLabel').innerHTML = 'Current: Bitter';">Bitter</button>
		
			<button class="myndexButton buttonRow" onclick="document.getElementById('serifSamples').style.fontFamily = 'Petrona','sans-serif';document.getElementById('serifLabel').innerHTML = 'Current: Petrona';">Petrona</button>

			<button class="myndexButton buttonRow" onclick="document.getElementById('serifSamples').style.fontFamily = 'Taviraj','sans-serif';document.getElementById('serifLabel').innerHTML = 'Current: Taviraj';">Taviraj</button>

			<button class="myndexButton buttonRow" onclick="document.getElementById('serifSamples').style.fontFamily = 'Trirong','sans-serif';document.getElementById('serifLabel').innerHTML = 'Current: Trirong';">Trirong</button>				
		</div>
		

	</div>
</section> <!--	********	Close Examples Area		********	-->

<hr class="clb mb0" style="">


<div class="gammaContainer" style="Margin: 0;">
	<h1 class="cW">MONITOR ADJUSTMENT AFFECTS PERCEIVED CONTRAST</h1>
	 
	 <div class="centered gamma gammaOverflow" style="">sRGB gamma target. Adjust the monitor so that the square appears uniform (i.e. not pyramids). Note also it is important that the image be at 100% and not scaled - make sure your browser says "actual size". If the square "looks like a pyramid" that indicates your monitor is not calibrated to the sRGB transfer curve (sometimes called gamma).<br>
	 <img src="/images/articles/18_PercentGrey_440x440mid-22Gamma.png">
	 </div>
</div>

<footer>
	<a id="" href="/CVD/"><button class="myndexButton flr mr20"><img class="fll " style="margin: 0 0.6em 0 0; padding: 0" src="/CVD/faviconMasterSmall.jpg"  height="60"><div class="flr" style="margin: 0.2em; padding:0;" >Myndex&nbsp;Color&nbsp;Vision <br>Deficiency&nbsp;Simulator</div></button></a>       
        
	<div style="font-size: 12px;">Copyright &copy; 2019 – 2020 by Andrew Somers. All Rights Reserved.
		<br>APCA Licensed to the W3.org per their cooperative agreement. 
		<br>Source Repository: <a href="https://github.com/Myndex/SAPC-APCA/">https://github.com/Myndex/SAPC-APCA/</a>
		<br>Color value input parsing based partly on rgbcolor.js by
		<br>Stoyan Stefanov sstoo@gmail.com used per MIT license.
		<br>This project is part of the <a href="https://www.myndex.com/WEB/Perception">Myndex Web Perception Experiment.</a>
		
		<br><br><br>

		<span onclick="showHelp()" style="font-size: 1.5em; cursor: pointer; text-decoration: underline">Click Here for a list of HTML color names.</span>
		
		<div id="help"></div>
		<br><br><br>
	</div>

	</div>
</footer>

<script>

var labelSet = false;

function populateTable() {

		// Conformance Level Values
		var score0factor = 0.24;
		var score1factor = 0.16;
		var score2factor = 0.08;
		var score3factor = 0.01;
		var score0local = 0.75;
		var score1local = 0.875;
		var score2local = 0.94;
		var score3local = 0.995;		
		var contrastLevels = [40,50,60,70,80,100,120]

		for (let i = 0; i < contrastLevels.length; i++) {
		
		score0local = (1 - (score0factor * contrastLevels[i]) / 100);
		score1local = (1 - (score1factor * contrastLevels[i]) / 100);
		score2local = (1 - (score2factor * contrastLevels[i]) / 100);
		score3local = (1 - (score3factor * contrastLevels[i]) / 100);

		document.getElementById(contrastLevels[i] + 'L4').innerHTML =
		(contrastLevels[i] * score3local).toFixed(0); 
		document.getElementById(contrastLevels[i] + 'L3').innerHTML =
		(contrastLevels[i] * score2local).toFixed(0); 
		document.getElementById(contrastLevels[i] + 'L2').innerHTML =
		(contrastLevels[i] * score1local).toFixed(0); 
		document.getElementById(contrastLevels[i] + 'L1').innerHTML =
		(contrastLevels[i] * score0local).toFixed(0); 

	}
}
//////////////////////////////////////////////////////////////
/////////  TEST CONTRAST FUNCTION  ///////////////////////////
//////////////////////////////////////////////////////////////

function testContrast() {
		var BG = new RGBColor(document.getElementById('BGresult').value);
		var txt = new RGBColor(document.getElementById('textResult').value);
		var contrast;
		

		if (BG.ok && txt.ok) {	
			
			contrast =
			document.getElementById('contrastResult').innerHTML =
				APCAbasic(BG,txt);

			} else { 
						
			contrast = 0;
			document.getElementById('contrastResult').innerHTML = '<div class="fs06 cR">INVALID<br>COLOR</div>';
		}
			
		var absContrast = isNaN(contrast) ? 0 : Math.abs(parseFloat(contrast));
	
		// Indices pf score levels to use on this page.
		const sansIndex = [1,2,3,4,5,7,8];
		const serifIndex = [false,2,3,4,5,7,8];
		var currentLevel;

		if (absContrast < 25) {
				
			var scoreLevels = [40,50,60,70,80,100,120];
		
			for (let i = 0; i < scoreLevels.length; i++) {

			currentLevel = scoreLevels[i];

				if (serifIndex[i]) {
			
					document.getElementById('sansL' + currentLevel).innerHTML =
					document.getElementById('serifL' + currentLevel).innerHTML =
						'LOW/ERROR — Score: 0';

					document.getElementById('sansL' + currentLevel).className =
					document.getElementById('serifL' + currentLevel).className =
						"currentContrast score0";
		
					document.getElementById('sans2L' + currentLevel).className =
					document.getElementById('serif2L' + currentLevel).className =
						"dn";				

				} else {

					document.getElementById('sansL' + currentLevel).innerHTML =
					document.getElementById('sans2L' + currentLevel).innerHTML =				
						'LOW/ERROR — Score: 0';
			
					document.getElementById('sansL' + currentLevel).className =
						"currentContrast score0";

					document.getElementById('sans2L' + currentLevel).className =
						"dn";	
				}
			}	

		} else {
		
			var scoreLevel;

		// Pre-calculated conformance score levels.
		var scoreLevels = [
			[23.5,24.0,24.5,24.9,40.3,25],
			[36.2,37.4,38.7,39.8,56.3,40],
			[44.0,46.0,48.0,49.8,65.9,50],
			[51.4,54.2,57.1,59.6,75.1,60],
			[58.2,62.2,66.1,69.5,83.7,70],
			[64.6,69.8,74.9,79.4,92.1,80],
			[70.6,77.0,83.5,89.2,100.1,90],
			[76.0,84.0,92.0,99.0,107.9,100],
			[85.4,97.0,108.5,118.6,122.8,120],
			[89.4,103.0,116.5,128.3,130.0,130],
			];
			
		for (let i = 0; i < sansIndex.length; i++) {
		
			scoreLevel = (absContrast < scoreLevels[sansIndex[i]][0]) ? 0 :
				(absContrast < scoreLevels[sansIndex[i]][1]) ? 1 :
				(absContrast < scoreLevels[sansIndex[i]][2]) ? 2 :
				(absContrast < scoreLevels[sansIndex[i]][3]) ? 3 :
				(absContrast < scoreLevels[sansIndex[i]][4]) ? 4 : 5;

				currentLevel = scoreLevels[sansIndex[i]][5];
		

			if (serifIndex[i]) {
			
				document.getElementById('sansL' + currentLevel).innerHTML =
				document.getElementById('sans2L' + currentLevel).innerHTML =				
				document.getElementById('serifL' + currentLevel).innerHTML =
				document.getElementById('serif2L' + currentLevel).innerHTML =
			'APCA Contrast: ' + contrast
			+'<span class="Lc"><sup>L<sup>c</sup></sup></span>'
			+ ' Score: ' + scoreLevel;
			
				document.getElementById('sansL' + currentLevel).className =
				document.getElementById('serifL' + currentLevel).className =
					"currentContrast score" + scoreLevel;

				document.getElementById('sans2L' + currentLevel).className =
				document.getElementById('serif2L' + currentLevel).className =
					"currentContrast2 score" + scoreLevel;				
			
			} else {

				document.getElementById('sansL' + currentLevel).innerHTML =
				document.getElementById('sans2L' + currentLevel).innerHTML =
				'APCA Contrast: ' + contrast
				+'<span class="Lc"><sup>L<sup>c</sup></sup></span>'
				+ ' Score: ' + scoreLevel;
			
				document.getElementById('sansL' + currentLevel).className =
					"currentContrast score" + scoreLevel;
				document.getElementById('sans2L' + currentLevel).className =
					"currentContrast2 score" + scoreLevel;
			}

				if (!labelSet) {
			document.getElementById('Lc' + currentLevel).innerHTML =
				'L<sup>c</sup> ' + currentLevel
				+ ' <span style="font-size: 0.7em; font-weight: 400"> Lc1: '
				+ scoreLevels[sansIndex[i]][0]
				+ ' Lc2: ' + scoreLevels[sansIndex[i]][1]
				+ ' Lc3: ' + scoreLevels[sansIndex[i]][2] 
				+ ' Lc4: ' + scoreLevels[sansIndex[i]][3]
				+ ' Lc5: ' + scoreLevels[sansIndex[i]][4]
				+ '</span>'; 
		}
			}

		 labelSet = true;
		}

	}
</script>

</body>
</html>

